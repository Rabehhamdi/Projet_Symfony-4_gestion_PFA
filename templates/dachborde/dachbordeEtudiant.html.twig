{% extends 'dachborde/index.html.twig' %}

{% block title %}Hello Home{% endblock %}

{% block body %}
<div id="page-wrapper">
<div id="page-inner">
    <div class="row">
        <div class="col-md-12">
            <h1 class="page-header">
                Dashboard <small>Etudiant  </small>
            </h1>
        </div>
    </div>
    {% if(app.user.image != "")%}
    <img width="150" height="150" src="/images/{{app.user.image}}">
    {%endif%}
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Votre CV
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-12">
                        <center>   <a href="{{path('cv',{'id' :etudiant.id})}}" class="btn btn-primary btn-lg"> Votre CV </a></center> 
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Information Basic
                </div>
                <div class="panel-body">
                    <div class="row"> 
                        <div class="col-lg-12">
                            <form role="form" action="{{path('ModificationUser')}}">
                                <div class="form-group">
                                    <label for="disabledSelect">username</label>
                                    <input class="form-control" id="disabledInput" type="text" placeholder="{{ app.user.username }}" disabled="">
                                </div> 

                                <div class="form-group">
                                    <label>roles</label>
                                    <input class="form-control"   placeholder="{{ app.user.roles[0] }}" disabled="">
                                </div>
                                
                                <div class="form-group">
                                    <label>activer</label>
                                    {% if(app.user.activer == 1)    %}
                                    <input class="form-control"   placeholder="Activer" disabled="">
                                    {%else%}
                                    <input class="form-control" placeholder="Nom Activer" disabled="">
                                    {%endif%}
                                </div>

                                <div class="form-group">
                                    <label>cin</label>
                                    <input class="form-control"name="cin"  value="{{ app.user.cin }}">
                                </div>

                                <div class="form-group">
                                    <label>Nom</label>
                                    <input class="form-control" name="nom"  value="{{ app.user.nom }}">
                                </div>

                                <div class="form-group">
                                    <label>prenom</label>
                                    <input class="form-control" name="prenom" value="{{ app.user.prenom }}">
                                </div>

                                <div class="form-group">
                                    <label>date_naissance</label>
                                    <input class="form-control" name="date_naissance" value={{ app.user.dateNaissance|date('Y-m-d') }}>
                                </div> 

                                <div class="form-group">
                                    <label>adresse_email</label>
                                    <input class="form-control" name="adresse_email"  value="{{ app.user.adresseEmail }}" >
                                </div>

                                

                                <!--<div class="form-group">
                                    <label>password</label>
                                    <input class="form-control"  value="{{ app.user.password }}">
                                </div>-->
                                 
                                
                                 
                               

                                <button type="submit" class="btn btn-default">Modifier</button>
                                <button type="reset" class="btn btn-default">Reset</button>
                            </form>
                        </div> 
                        
                    </div>
                    <!-- /.row (nested) -->
                </div>
                <!-- /.panel-body -->
            </div>
            <!-- /.panel -->
        </div>
        <!-- /.col-lg-12 -->
           
                <div class="col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            information plus détaillée  
                        </div>
                        <div class="panel-body">
                            <div class="panel-group" id="accordion">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#collapse0" class="collapsed">Description</a>
                                        </h4>
                                    </div>
                                    <div id="collapse0" class="panel-collapse collapse" style="height: 0px;">
                                        <div class="panel-body">
                                            <form role="form" action="{{path('ModificationEtudiant')}}">

                                                <div class="form-group">
                                                    <label>adresse </label>
                                                    <input class="form-control" name="adresse" value="{{ etudiant.adresse }}">
                                                </div>

                                                <div class="form-group">
                                                    <label>Description sur cvotre cv</label>
                                                    <textarea class="form-control" name="description_profil_cv" rows="3"> {{ etudiant.descriptionProfilCv }} </textarea>
                                                </div>

                                                <button type="submit" class="btn btn-default">Modifier</button>
                                                <button type="reset" class="btn btn-default">Reset</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>












                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#collapse5" class="collapsed">numero telephone</a>
                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter41a">
                                                +
                                            </button>
                                
                                            <!-- Modal -->
                                            <div class="modal fade" id="exampleModalCenter41a" tabindex="-1" role="dialog"
                                                aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                                                <div class="modal-dialog modal-dialog-centered" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="exampleModalLongTitle">Ajoute numero telephone</h5>
                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>
                                                        <form role="form" action="{{path('Ajoutetelephone')}}">
                                                            <div class="modal-body">
                                                                <div class="form-group">
                                                                    <label for="disabledSelect">tele</label>
                                                                    <input class="form-control" name="tele" id="disabledInput" type="text"
                                                                        placeholder="Nom">
                                                                </div> 
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                                <button type="submit" class="btn btn-primary">Save changes</button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </h4>
                                    </div>
                                    <div id="collapse5" class="panel-collapse collapse" style="height: 0px;">
                                        <div class="panel-body"> 
                                            {% for tele in app.user.getTeles() %}
                                            id : {{tele.id}}<br>
                                            nom : {{tele.tele}} 
                                            <a href="{{path('supprimertelephone',{'id' :tele.id})}}">
                                                <span class="glyphicon glyphicon-trash" style="color:red"></span>
                                            </a>
                                            <hr>
                                            <hr>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>








                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" class="collapsed">Formation</a>
                                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter0">
                                                    +
                                                </button>
                                            
                                                <!-- Modal -->
                                                <div class="modal fade" id="exampleModalCenter0" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
                                                    aria-hidden="true">
                                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleModalLongTitle">Ajoute Formation</h5>
                                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                    <span aria-hidden="true">&times;</span>
                                                                </button>
                                                            </div>
                                                            <form role="form" action="{{path('AjouteFormation')}}"> 
                                                            <div class="modal-body">
                                                                
                                                                    <div class="form-group">
                                                                        <label for="disabledSelect">nom</label>
                                                                        <input class="form-control" name="nom" id="disabledInput" type="text" placeholder="Nom"  >
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label for="disabledSelect">description</label>
                                                                        <input class="form-control" name="description" id="disabledInput" type="text" placeholder="Description"  >
                                                                    </div>
                                                                    

                                                                    <div class="form-group">
                                                                        <label for="disabledSelect">date_debut</label>
                                                                        <input class="form-control"  name="date_debut" id="disabledInput" type="datetime-local"    >
                                                                    </div>

                                                                     

                                                                    <div class="form-group">
                                                                        <label for="disabledSelect">date_fin</label>
                                                                        <input class="form-control" name="date_fin" id="disabledInput" type="datetime-local"   >
                                                                    </div> 
                                                                    </div>

                                                            <div class="modal-footer"> 
                                                                <button type="reset" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                                <button type="submit" class="btn btn-primary">Save changes</button>
                                                            </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>
                                        </h4>
                                    </div>
                                    <div id="collapseOne" class="panel-collapse collapse" style="height: 0px;">
                                        <div class="panel-body">
                                             
                                            {% for formation in etudiant.formations %}
                                                id          : {{formation.id}}
                                                <a href="{{path('supprimerformation',{'id' :formation.id})}}">
                                                    <span class="glyphicon glyphicon-trash" style="color:red"></span>
                                                </a><br>
                                                nom         : {{formation.nom}}<br>
                                                description : {{formation.description}}<br>
                                                date_debut  :{{formation.getDateDebut() | date('Y-m-d')}}<br>
                                                date_fin    :{{formation.getDateFin() | date('Y-m-d')}} 
                                                
                                                <hr><hr> 
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">Expérience Professionnelle </a>
                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter1">
                                                +
                                            </button>
                                            
                                            <!-- Modal -->
                                            <div class="modal fade" id="exampleModalCenter1" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
                                                aria-hidden="true">
                                                <div class="modal-dialog modal-dialog-centered" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="exampleModalLongTitle">ajoute Expérience Professionnelle</h5>
                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>
                                                        <form role="form" action="{{path('AjouteExperience')}}">
                                                            <div class="modal-body">
                                                            
                                                                <div class="form-group">
                                                                    <label for="disabledSelect">titre</label>
                                                                    <input class="form-control" name="titre" id="disabledInput" type="text" placeholder="Nom">
                                                                </div>
                                            
                                                                <div class="form-group">
                                                                    <label for="disabledSelect">description</label>
                                                                    <input class="form-control" name="description" id="disabledInput" type="text" placeholder="Description">
                                                                </div>
                                            
                                                                <div class="form-group">
                                                                    <label for="disabledSelect">date_debut</label>
                                                                    <input class="form-control" name="date_debut" id="disabledInput" type="text" placeholder="date debut">
                                                                </div>
                                            
                                                                <div class="form-group">
                                                                    <label for="disabledSelect">date_fin</label>
                                                                    <input class="form-control" name="date_fin" id="disabledInput" type="text" placeholder="date fin">
                                                                </div>
                                            
                                                            </div>
                                                        
                                                        <div class="modal-footer">
                                                            <button type="reset" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                            <button type="submit" class="btn btn-primary">Save changes</button>
                                                        </div>
                                                    </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </h4>
                                    </div>   
                                    <div id="collapseTwo" class="panel-collapse in" style="height: 0px;">
                                        <div class="panel-body">
                                            {% for experiance in etudiant.experiances %}
                                            id : {{experiance.id}}
                                            <a href="{{path('supprimerExperiance',{'id' :experiance.id})}}">
                                                <span class="glyphicon glyphicon-trash" style="color:red"></span>
                                            </a>
                                            <br>
                                            nom : {{experiance.titre}}<br>
                                            description : {{experiance.description}}<br>
                                            date_debut :{{experiance.getDateDebut() | date('Y-m-d')}}<br>
                                            date_fin :{{experiance.getDateFin() | date('Y-m-d')}}
                                            <hr>
                                            <hr>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" class="collapsed">Compétence</a>
                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter2">
                                                +
                                            </button>
                                            
                                            <!-- Modal -->
                                            <div class="modal fade" id="exampleModalCenter2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
                                                aria-hidden="true">
                                                <div class="modal-dialog modal-dialog-centered" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="exampleModalLongTitle">Ajoute Compétence</h5>
                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>
                                                        <form role="form" action="{{path('AjouteCompetence')}}">
                                                            <div class="modal-body"> 
                                                                    <div class="form-group">
                                                                        <label for="disabledSelect">titre</label>
                                                                        <input class="form-control" name="titre" id="disabledInput" type="text" placeholder="Nom">
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label for="disabledSelect">niveau</label>
                                                                        <input class="form-control" name="niveau" id="disabledInput" type="text" placeholder="niveau">
                                                                    </div>
                                                
                                                                    <div class="form-group">
                                                                        <label for="disabledSelect">description</label>
                                                                        <input class="form-control" name="description" id="disabledInput" type="text" placeholder="Description">
                                                                    </div>  
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                                <button type="submit" class="btn btn-primary">Save changes</button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </h4>
                                    </div>
                                    <div id="collapseThree" class="panel-collapse collapse">
                                        <div class="panel-body">
                                            {% for Competence in etudiant.competences %}
                                            id : {{Competence.id}}
                                            <a href="{{path('supprimerCompetence',{'id' :Competence.id})}}">
                                                <span class="glyphicon glyphicon-trash" style="color:red"></span>
                                            </a>
                                            <br>
                                            nom : {{Competence.titre}}<br>
                                            nom : {{Competence.niveau}}<br>
                                            description : {{Competence.description}}<br> 
                                            <hr>
                                            <hr>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#collapse4" class="collapsed">Langue</a>
                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter3">
                                                +
                                            </button>
                                            
                                            <!-- Modal -->
                                            <div class="modal fade" id="exampleModalCenter3" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
                                                aria-hidden="true">
                                                <div class="modal-dialog modal-dialog-centered" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="exampleModalLongTitle">Ajoute Langue</h5>
                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div><form role="form" action="{{path('AjouteLangue')}}">
                                                        <div class="modal-body">
                                                            
                                                                <div class="form-group">
                                                                    <label for="disabledSelect">nom</label>
                                                                    <input class="form-control" name="nom" id="disabledInput" type="text" placeholder="Nom">
                                                                </div>
                                            
                                                                <div class="form-group">
                                                                    <label for="disabledSelect">description</label>
                                                                    <input class="form-control" name="description"  id="disabledInput" type="text" placeholder="Description">
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="disabledSelect">niveaux</label>
                                                                    <input class="form-control" name="niveaux"  id="disabledInput" type="text" placeholder="Nom">
                                                                </div> 
                                            
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                            <button type="submit" class="btn btn-primary">Save changes</button>
                                                        </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        
                                        </h4>
                                    </div>
                                    <div id="collapse4" class="panel-collapse collapse" style="height: 0px;">
                                        <div class="panel-body">
                                            {% for Langue in etudiant.getLangues() %}
                                            id : {{Langue.id}}
                                            <a href="{{path('supprimerLangue',{'id' :Langue.id})}}">
                                                <span class="glyphicon glyphicon-trash" style="color:red"></span>
                                            </a>
                                            <br>
                                            nom : {{Langue.nom}}<br>
                                            niveaux : {{Langue.niveaux}}<br>
                                            description : {{Langue.description}}<br>
                                            <hr>
                                            <hr>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#collapse5a" class="collapsed">Projet</a>
                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#qexampleaa">
                                                +
                                            </button>
                                            
                                            <!-- Modal -->
                                            <div class="modal fade" id="qexampleaa" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
                                                aria-hidden="true">
                                                <div class="modal-dialog modal-dialog-centered" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="exampleModalLongTitle">Ajoute Projet</h5>
                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>
                                                        <form role="form" action="{{path('AjouteProjet')}}">
                                                        <div class="modal-body"> 
                                                                <div class="form-group">
                                                                    <label for="disabledSelect">titre</label>
                                                                    <input class="form-control" name="titre" id="disabledInput" type="text" placeholder="Nom">
                                                                </div>
                                            
                                                                <div class="form-group">
                                                                    <label for="disabledSelect">description</label>
                                                                    <input class="form-control" name="description" id="disabledInput" type="text" placeholder="Description">
                                                                </div>  
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                            <button type="submit" class="btn btn-primary">Save changes</button>
                                                        </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </h4>
                                    </div>
                                    <div id="collapse5a" class="panel-collapse collapse" style="height: 0px;">
                                        <div class="panel-body">
                                            {% for Projet in etudiant.getProjet() %}

                                            id : {{Projet.id}}
                                            <a href="{{path('supprimerProjet',{'id' :Projet.id})}}">
                                                <span class="glyphicon glyphicon-trash" style="color:red"></span>
                                            </a><br>
                                            nom : {{Projet.titre}}<br> 
                                            description : {{Projet.description}}<br>
                                            <hr>
                                            <hr>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> 
        <!-- /.col-lg-12 -->
    </div>
    <div class="row">
        <centre><h1>liste commantaire</h1></centre><br>
        {% for comm in commentaire %} 
            {% if (comm.etudiant.idUser == app.user.id) %}
             {%for u in User%}
             {% if(u.id == comm.professeur.idUser) %}
        <h1>{{u.nom}} {{u.prenom}}  </h1>
            {%endif%}
            {% endfor %}
        <h2>{{comm.commantaire}}   </h2>
        {% if(comm.positivenegative == "0") %}
        <h3> nom motives</h3>
        {% else %}
        <h3> nom motives</h3>
        {%endif%}
        <hr><hr>
        {% endif %}
        {% endfor %}
        
    </div>
</div>
{% endblock %}